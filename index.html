<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å›½å†…ã‚³ã‚¢ãƒ©åé‘‘</title>
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2e7d32">
    <link rel="apple-touch-koalaface" href="koalaface.png">

    <style>
        /* ãƒ‡ã‚¶ã‚¤ãƒ³ã®è¨­å®šï¼ˆãƒ¦ãƒ¼ã‚«ãƒªè‰²ã¨ã‚³ã‚¢ãƒ©è‰²ï¼‰ */
        body {
            font-family: "Helvetica Neue", Arial, sans-serif;
            background-color: #f4f7f6;
            color: #333;
            margin: 0;
            padding: 20px;
            /* iPhoneã®åˆ‡ã‚Šæ¬ ãå¯¾ç­– */
            padding-top: env(safe-area-inset-top);
        }
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        h1 {
            color: #2e7d32;
        }
        .search-box {
            text-align: center;
            margin-bottom: 20px;
        }
        input[type="text"] {
            padding: 10px;
            width: 80%;
            max-width: 400px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        /* ã‚³ã‚¢ãƒ©ã‚«ãƒ¼ãƒ‰ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
        .koala-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }
        .koala-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border-left: 5px solid #2e7d32;
        }
        .koala-name {
            font-size: 1.5em;
            font-weight: bold;
            margin: 0 0 10px 0;
            color: #444;
        }
        .koala-zoo {
            background-color: #e8f5e9;
            color: #2e7d32;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.9em;
            display: inline-block;
            margin-bottom: 10px;
        }
        .koala-info {
            font-size: 0.95em;
            line-height: 1.6;
        }
        .label {
            font-weight: bold;
            color: #666;
        }
    </style>
</head>
<body>

<header>
    <h1>ğŸ¨ å›½å†…ã‚³ã‚¢ãƒ©åé‘‘</h1>
    <p>å›½å†…å‹•ç‰©åœ’ã§é£¼è‚²ã•ã‚Œã¦ã„ã‚‹ã‚³ã‚¢ãƒ©ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹</p>
</header>

<div class="search-box">
    <input type="text" id="searchInput" placeholder="åå‰ã‚„å‹•ç‰©åœ’ã§æ¤œç´¢..." onkeyup="filterKoalas()">
</div>

<div id="koalaList" class="koala-list">
    </div>

<script>
    // â–¼â–¼â–¼ PWAã®ç™»éŒ²å‡¦ç† â–¼â–¼â–¼
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
            navigator.serviceWorker.register('./service-worker.js').then(function(registration) {
                console.log('ServiceWorker registration successful');
            }, function(err) {
                console.log('ServiceWorker registration failed: ', err);
            });
        });
    }

    // â–¼â–¼â–¼ ã‚³ã‚¢ãƒ©ãƒ‡ãƒ¼ã‚¿ â–¼â–¼â–¼
    const koalaData = [
        {
            name: "è¦‹æœ¬ã‚³ã‚¢ãƒ©å¤ªéƒ",
            zoo: "â—‹â—‹å‹•ç‰©åœ’",
            birthday: "2015-05-20",
            parents: "çˆ¶ï¼šãƒ‘ãƒ‘ã‚³ã‚¢ãƒ© / æ¯ï¼šãƒãƒã‚³ã‚¢ãƒ©",
            death: "", 
            move: "2017å¹´ã«â–³â–³å‹•ç‰©åœ’ã‹ã‚‰æ¥åœ’"
        },
        {
            name: "ã‚µãƒ³ãƒ—ãƒ«èŠ±å­",
            zoo: "Ã—Ã—å‹•æ¤ç‰©åœ’",
            birthday: "2018-12-10",
            parents: "çˆ¶ï¼šä¸æ˜ / æ¯ï¼šã‚µã‚¯ãƒ©",
            death: "",
            move: "ãªã—"
        },
        {
            name: "ãƒ¬ã‚¸ã‚§ãƒ³ãƒ‰ãƒ»ã‚³ã‚¢ãƒ©",
            zoo: "ãƒ¡ãƒ¢ãƒªã‚¢ãƒ«ãƒ‘ãƒ¼ã‚¯",
            birthday: "2000-01-01",
            parents: "çˆ¶ï¼šè±ªå·å¤ªéƒ / æ¯ï¼šãƒ“ã‚¯ãƒˆãƒªã‚¢",
            death: "2015-08-15",
            move: "2002å¹´æ¥æ—¥"
        }
    ];

    function renderKoalas(data) {
        const list = document.getElementById('koalaList');
        list.innerHTML = ''; 
        data.forEach(koala => {
            const status = koala.death ? `<span style="color:gray;">(ğŸŒˆ ${koala.death})</span>` : '';
            const html = `
                <div class="koala-card">
                    <div class="koala-name">${koala.name} ${status}</div>
                    <div class="koala-zoo">${koala.zoo}</div>
                    <div class="koala-info">
                        <div><span class="label">èª•ç”Ÿæ—¥:</span> ${koala.birthday}</div>
                        <div><span class="label">ä¸¡è¦ª:</span> ${koala.parents}</div>
                        <div><span class="label">ç§»å‹•æ­´:</span> ${koala.move}</div>
                    </div>
                </div>
            `;
            list.innerHTML += html;
        });
    }

    function filterKoalas() {
        const input = document.getElementById('searchInput').value.toLowerCase();
        const filtered = koalaData.filter(koala => 
            koala.name.toLowerCase().includes(input) || 
            koala.zoo.toLowerCase().includes(input)
        );
        renderKoalas(filtered);
    }

    renderKoalas(koalaData);
</script>

</body>
</html>